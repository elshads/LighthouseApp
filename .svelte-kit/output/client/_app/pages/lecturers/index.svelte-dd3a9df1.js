import{S as I,i as J,s as K,ay as O,F as T,G as q,k as S,w as d,ai as P,d as f,m as j,x as $,g as p,y as _,I as B,q as g,o as b,B as h,J as D,v as V,K as k,az as z,aA as E,t as G,h as H,as as A}from"../../chunks/vendor-cf8775f0.js";import{s as F}from"../../chunks/stores-847348a8.js";import{l as m,n as N}from"../../chunks/appStore-28a71663.js";import{D as M}from"../../chunks/DataGrid-4595a724.js";import"../../chunks/csvGenerator-27de1fc1.js";import"../../chunks/global-a1cc3230.js";/* empty css                                                          */function Q(n){let a;return{c(){a=G("Home")},l(r){a=H(r,"Home")},m(r,e){p(r,a,e)},d(r){r&&f(a)}}}function U(n){let a;return{c(){a=G(C)},l(r){a=H(r,C)},m(r,e){p(r,a,e)},p:A,d(r){r&&f(a)}}}function W(n){let a,r,e,o;return a=new E({props:{href:"/",$$slots:{default:[Q]},$$scope:{ctx:n}}}),e=new E({props:{href:"/lecturers",isCurrentPage:!0,$$slots:{default:[U]},$$scope:{ctx:n}}}),{c(){d(a.$$.fragment),r=S(),d(e.$$.fragment)},l(t){$(a.$$.fragment,t),r=j(t),$(e.$$.fragment,t)},m(t,i){_(a,t,i),p(t,r,i),_(e,t,i),o=!0},p(t,i){const u={};i&512&&(u.$$scope={dirty:i,ctx:t}),a.$set(u);const c={};i&512&&(c.$$scope={dirty:i,ctx:t}),e.$set(c)},i(t){o||(g(a.$$.fragment,t),g(e.$$.fragment,t),o=!0)},o(t){b(a.$$.fragment,t),b(e.$$.fragment,t),o=!1},d(t){h(a,t),t&&f(r),h(e,t)}}}function X(n){let a,r;return a=new z({props:{noTrailingSlash:!0,$$slots:{default:[W]},$$scope:{ctx:n}}}),{c(){d(a.$$.fragment)},l(e){$(a.$$.fragment,e)},m(e,o){_(a,e,o),r=!0},p(e,o){const t={};o&512&&(t.$$scope={dirty:o,ctx:e}),a.$set(t)},i(e){r||(g(a.$$.fragment,e),r=!0)},o(e){b(a.$$.fragment,e),r=!1},d(e){h(a,e)}}}function Y(n){let a,r,e,o,t,i,u,c;document.title=a="Lighthouse - "+C,e=new O({props:{class:"tile",$$slots:{default:[X]},$$scope:{ctx:n}}});function v(s){n[3](s)}function y(s){n[4](s)}let w={headers:n[2],searchKeys:["name","email"],tableClass:"lecturers-table",linkColumn:"1",addVisible:!0,deleteVisible:!0};return n[1]!==void 0&&(w.rows=n[1]),n[0]!==void 0&&(w.selectedRows=n[0]),t=new M({props:w}),T.push(()=>q(t,"rows",v)),T.push(()=>q(t,"selectedRows",y)),t.$on("addClick",Z),t.$on("deleteClick",x),t.$on("linkClick",n[5]),{c(){r=S(),d(e.$$.fragment),o=S(),d(t.$$.fragment)},l(s){P('[data-svelte="svelte-1tv8jwr"]',document.head).forEach(f),r=j(s),$(e.$$.fragment,s),o=j(s),$(t.$$.fragment,s)},m(s,l){p(s,r,l),_(e,s,l),p(s,o,l),_(t,s,l),c=!0},p(s,[l]){(!c||l&0)&&a!==(a="Lighthouse - "+C)&&(document.title=a);const L={};l&512&&(L.$$scope={dirty:l,ctx:s}),e.$set(L);const R={};!i&&l&2&&(i=!0,R.rows=s[1],B(()=>i=!1)),!u&&l&1&&(u=!0,R.selectedRows=s[0],B(()=>u=!1)),t.$set(R)},i(s){c||(g(e.$$.fragment,s),g(t.$$.fragment,s),c=!0)},o(s){b(e.$$.fragment,s),b(t.$$.fragment,s),c=!1},d(s){s&&f(r),h(e,s),s&&f(o),h(t,s)}}}const C="Lecturers",Z=()=>{},x=()=>{};function ee(n,a,r){let e,o;D(n,m,s=>r(6,e=s)),D(n,F,s=>r(7,o=s));let t,i;const u=[{key:"name",value:"Name"},{key:"email",value:"Email"},{key:"status_name",value:"Status"}];V(async()=>{k(m,e=!0,e),await c(),k(m,e=!1,e)});async function c(){k(m,e=!0,e);try{const l=await(await fetch("/lecturers",{method:"POST",body:JSON.stringify({user_id:o.user.id}),headers:{"Content-Type":"application/json",accept:"application/json"}})).json();l.rows.length>0?r(1,i=l.rows):N.showNotification(!0,"error",l.message)}catch(s){N.showNotification(!0,"error","comp other err: "+s.message)}k(m,e=!1,e)}function v(s){i=s,r(1,i)}function y(s){t=s,r(0,t)}return[t,i,u,v,y,s=>N.showNotification(!0,"success",s.detail.value.id)]}class le extends I{constructor(a){super();J(this,a,ee,Y,K,{})}}export{le as default};
