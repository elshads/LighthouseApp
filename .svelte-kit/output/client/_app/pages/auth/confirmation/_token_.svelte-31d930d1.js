import{S as J,i as M,s as P,k as C,e as $,ai as z,d as o,m as x,c as h,a as k,g as _,o as I,p as F,q as V,J as G,v as H,n as K,bc as O,w as N,t as E,x as j,h as D,b as w,y as S,N as y,as as Q,B as q,au as W,av as A,bb as X,f as Y,j as Z}from"../../../chunks/vendor-cf8775f0.js";import{p as ee}from"../../../chunks/stores-847348a8.js";function te(p){let s,t,i,a,n,f,u;return t=new O({props:{class:"loading-badge"}}),{c(){s=$("div"),N(t.$$.fragment),i=C(),a=$("div"),n=$("div"),f=E("Checking..."),this.h()},l(r){s=h(r,"DIV",{class:!0});var d=k(s);j(t.$$.fragment,d),d.forEach(o),i=x(r),a=h(r,"DIV",{class:!0});var l=k(a);n=h(l,"DIV",{});var e=k(n);f=D(e,"Checking..."),e.forEach(o),l.forEach(o),this.h()},h(){w(s,"class","py-2"),w(a,"class","py-4")},m(r,d){_(r,s,d),S(t,s,null),_(r,i,d),_(r,a,d),y(a,n),y(n,f),u=!0},p:Q,i(r){u||(V(t.$$.fragment,r),u=!0)},o(r){I(t.$$.fragment,r),u=!1},d(r){r&&o(s),q(t),r&&o(i),r&&o(a)}}}function se(p){let s,t,i,a,n,f,u,r,d,l;return t=new W({props:{class:"error-badge"}}),d=new A({props:{href:"/auth/confirmation",$$slots:{default:[re]},$$scope:{ctx:p}}}),{c(){s=$("div"),N(t.$$.fragment),i=C(),a=$("div"),n=$("div"),f=E("User does not exist or confirmation link expired"),u=C(),r=$("div"),N(d.$$.fragment),this.h()},l(e){s=h(e,"DIV",{class:!0});var m=k(s);j(t.$$.fragment,m),m.forEach(o),i=x(e),a=h(e,"DIV",{class:!0});var v=k(a);n=h(v,"DIV",{});var b=k(n);f=D(b,"User does not exist or confirmation link expired"),b.forEach(o),v.forEach(o),u=x(e),r=h(e,"DIV",{class:!0});var c=k(r);j(d.$$.fragment,c),c.forEach(o),this.h()},h(){w(s,"class","py-2"),w(a,"class","py-4"),w(r,"class","py-4")},m(e,m){_(e,s,m),S(t,s,null),_(e,i,m),_(e,a,m),y(a,n),y(n,f),_(e,u,m),_(e,r,m),S(d,r,null),l=!0},p(e,m){const v={};m&8&&(v.$$scope={dirty:m,ctx:e}),d.$set(v)},i(e){l||(V(t.$$.fragment,e),V(d.$$.fragment,e),l=!0)},o(e){I(t.$$.fragment,e),I(d.$$.fragment,e),l=!1},d(e){e&&o(s),q(t),e&&o(i),e&&o(a),e&&o(u),e&&o(r),q(d)}}}function ae(p){let s,t,i,a,n,f,u,r,d,l,e,m,v,b;return t=new X({props:{class:"success-badge"}}),v=new A({props:{href:"/auth/login",$$slots:{default:[ne]},$$scope:{ctx:p}}}),{c(){s=$("div"),N(t.$$.fragment),i=C(),a=$("div"),n=$("div"),f=E("Email address "),u=$("span"),r=E(p[1]),d=E(" successfully confirmed. Thank you"),l=C(),e=$("div"),m=E("Click here to "),N(v.$$.fragment),this.h()},l(c){s=h(c,"DIV",{class:!0});var g=k(s);j(t.$$.fragment,g),g.forEach(o),i=x(c),a=h(c,"DIV",{class:!0});var L=k(a);n=h(L,"DIV",{});var B=k(n);f=D(B,"Email address "),u=h(B,"SPAN",{style:!0});var R=k(u);r=D(R,p[1]),R.forEach(o),d=D(B," successfully confirmed. Thank you"),B.forEach(o),L.forEach(o),l=x(c),e=h(c,"DIV",{class:!0});var U=k(e);m=D(U,"Click here to "),j(v.$$.fragment,U),U.forEach(o),this.h()},h(){w(s,"class","py-2"),Y(u,"color","#0f62fe"),w(a,"class","py-4"),w(e,"class","py-4")},m(c,g){_(c,s,g),S(t,s,null),_(c,i,g),_(c,a,g),y(a,n),y(n,f),y(n,u),y(u,r),y(n,d),_(c,l,g),_(c,e,g),y(e,m),S(v,e,null),b=!0},p(c,g){(!b||g&2)&&Z(r,c[1]);const L={};g&8&&(L.$$scope={dirty:g,ctx:c}),v.$set(L)},i(c){b||(V(t.$$.fragment,c),V(v.$$.fragment,c),b=!0)},o(c){I(t.$$.fragment,c),I(v.$$.fragment,c),b=!1},d(c){c&&o(s),q(t),c&&o(i),c&&o(a),c&&o(l),c&&o(e),q(v)}}}function re(p){let s;return{c(){s=E("Resend confirmation link")},l(t){s=D(t,"Resend confirmation link")},m(t,i){_(t,s,i)},d(t){t&&o(s)}}}function ne(p){let s;return{c(){s=E("Log in")},l(t){s=D(t,"Log in")},m(t,i){_(t,s,i)},d(t){t&&o(s)}}}function le(p){let s,t,i,a,n,f;document.title=s="Lighthouse - "+T;const u=[ae,se,te],r=[];function d(l,e){return l[0]===1?0:l[0]===2?1:2}return a=d(p),n=r[a]=u[a](p),{c(){t=C(),i=$("div"),n.c()},l(l){z('[data-svelte="svelte-1tv8jwr"]',document.head).forEach(o),t=x(l),i=h(l,"DIV",{});var m=k(i);n.l(m),m.forEach(o)},m(l,e){_(l,t,e),_(l,i,e),r[a].m(i,null),f=!0},p(l,[e]){(!f||e&0)&&s!==(s="Lighthouse - "+T)&&(document.title=s);let m=a;a=d(l),a===m?r[a].p(l,e):(K(),I(r[m],1,1,()=>{r[m]=null}),F(),n=r[a],n?n.p(l,e):(n=r[a]=u[a](l),n.c()),V(n,1),n.m(i,null))},i(l){f||(V(n),f=!0)},o(l){I(n),f=!1},d(l){l&&o(t),l&&o(i),r[a].d()}}}const T="Email Confirmation";function oe(p,s,t){let i;G(p,ee,f=>t(2,i=f));let a=0,n="";return H(async()=>{try{const u=await(await fetch(`/auth/confirmation/${i.params.token}.json`)).json();u.id>0?(t(1,n=u.username),t(0,a=1)):t(0,a=2)}catch(f){notifications.showNotification(!0,"error","comp other err: "+f.message)}}),[a,n]}class fe extends J{constructor(s){super();M(this,s,oe,le,P,{})}}export{fe as default};
